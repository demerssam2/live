<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Counter</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        input {
            margin-bottom: 20px;
        }
        #counter {
            font-size: 2em;
        }
    </style>
</head>
<body>
    <h1>Live Counter</h1>
    <label for="numberInput">Enter a number:</label>
    <input type="number" id="numberInput" value="182">
    <div id="counter">0.000</div>

    <script>
        function getMillisecondsPerStep(number) {
            return 54000 / number;
        }

        function getInitialCounterValue(number) {
            const now = new Date();
            const startHour = 6;
            const endHour = 21;
            if (now.getHours() < startHour || now.getHours() >= endHour) {
                return 0;
            }
            const currentTimeInMinutes = now.getHours() * 60 + now.getMinutes();
            const startInMinutes = startHour * 60;
            const elapsedMinutes = currentTimeInMinutes - startInMinutes;
            const elapsedSeconds = elapsedMinutes * 60 + now.getSeconds();
            const totalActiveSeconds = (endHour - startHour) * 3600;
            const initialValue = (elapsedSeconds / totalActiveSeconds) * number;
            return initialValue.toFixed(3);
        }

        function startCounter() {
            const numberInput = document.getElementById('numberInput');
            let number = parseFloat(numberInput.value);
            let millisecondsPerStep = getMillisecondsPerStep(number);
            let counterValue = parseFloat(getInitialCounterValue(number));

            const updateCounter = () => {
                const now = new Date();
                const startHour = 6;
                const endHour = 21;
                if (now.getHours() >= startHour && now.getHours() < endHour) {
                    counterValue += 0.001;
                    document.getElementById('counter').innerText = counterValue.toFixed(3);
                }
            }

            setInterval(updateCounter, millisecondsPerStep);

            numberInput.addEventListener('change', () => {
                number = parseFloat(numberInput.value);
                millisecondsPerStep = getMillisecondsPerStep(number);
                counterValue = parseFloat(getInitialCounterValue(number));
                document.getElementById('counter').innerText = counterValue.toFixed(3);
            });
        }

        document.addEventListener('DOMContentLoaded', (event) => {
            const number = parseFloat(document.getElementById('numberInput').value);
            document.getElementById('counter').innerText = getInitialCounterValue(number);
            startCounter();
        });
    </script>
</body>
</html>
